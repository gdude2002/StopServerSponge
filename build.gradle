apply plugin: 'java'

sourceCompatibility = 1.7
version = '1.0'

buildscript {
    repositories { jcenter() }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.0'
    }
}

apply plugin: 'com.github.johnrengelman.shadow'

repositories {
    mavenCentral()
    maven {
        name 'Sponge maven repo'
        url 'http://repo.spongepowered.org/Sponge/maven'
    }
    maven {
        name 'Sonatype Public'
        url 'http://oss.sonatype.org/content/groups/public/'
    }
}

jar {
    from sourceSets.main.allSource
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    compile "org.spongepowered:spongeapi:1.1-SNAPSHOT"
    compile "org.yaml:snakeyaml:1.15-SNAPSHOT"
}

shadowJar {
    dependencies {
        exclude(dependency("org.spongepowered:spongeapi:1.1-SNAPSHOT"))
    }

    from sourceSets.main.allSource
}